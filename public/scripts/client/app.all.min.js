"use strict";!function(e,a,t){function s(e){var a="<li data-socket-id="+e._id+' class="user center-align">'+e._username+"</li>";p.append(a)}function i(e){t("li.user").remove('[data-socket-id="'+e._id+'"]')}function n(e,a){var t="";return t='<li data-socket-id="'+e+'" class="private-chat"> \n                    <span class="user-name">\n                        '+a+'\n                    </span> \n                    <div class="user-text">\n                        <ul class="private-messages-wrapper">\n                        </ul>\n                        <div class="input-field">\n                            <input class="message private-chat-send" type="text" placeholder="Your message..">\n                        </div>\n                    </div> \n                </li>'}var r=a(),c="",o=t("#message-wrapper"),p=t("#socket-users"),l=t(".input-message"),d=t("#chat-message"),u=t("#chat-message-send"),v=t(".input-username"),h=t("#username"),m=t("#set-username"),f=t(".private-chat-list"),g="";u.on("click",function(){r.emit("chat-room-message",{username:c,message:d.val()}),d.val("")}),r.on("chat-room-message",function(e){var a='<li class="message"><span class="user-name">'+e.username+"</span><p>"+e.message+"</p></li>";o.append(a)}),m.on("click",function(){c=h.val(),h.val(""),r.emit("user-joined",c),v.addClass("hide"),l.removeClass("hide")}),r.on("users-list",function(e){e.forEach(function(e){s(e)})}),r.on("user-joined",function(e){s(e)}),r.on("user-left",function(e){i(e)}),t(".private-chat-wrapper .private-chat-list").on("click",".private-chat",function(){var e=t(".private-chat-wrapper .private-chat-list .private-chat.active");e&&(e.removeClass("active"),e.is(this))||(t(this).addClass("active"),g=t(this).attr("data-socket-id"))}),t(".private-chat-wrapper .private-chat-list").on("click",".private-chat .user-text",function(e){e.stopPropagation()}),t("#socket-users").on("click","li",function(){var e=t(this).attr("data-socket-id");g=e;var a=t(this).text(),s=t('.private-chat-wrapper .private-chat-list .private-chat[data-socket-id="'+e+'"]');if(0==s.length){var i=n(e,a);f.append(i)}else s.hasClass("active")||s.addClass("active")}),f.on("keydown",".private-chat-send",function(e){13==e.keyCode&&alert("enter presed")})}(window,window.io,window.$);